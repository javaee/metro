<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;9.&nbsp;SOAP/TCP Web Service transport</title><link rel="stylesheet" href="style/documentation.css" type="text/css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="index.html" title="Metro User Guide"><link rel="up" href="index.html" title="Metro User Guide"><link rel="prev" href="ch08.html" title="Chapter&nbsp;8.&nbsp;Message Optimization"><link rel="next" href="ch10.html" title="Chapter&nbsp;10.&nbsp;Using Reliable Messaging"><script xmlns:fo="http://www.w3.org/1999/XSL/Format" type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2105126-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;9.&nbsp;SOAP/TCP Web Service transport</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch08.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch10.html">Next</a></td></tr></table><hr></div><small xmlns:fo="http://www.w3.org/1999/XSL/Format" class="small">Links: <a href="index.html">Table of Contents</a> | <a href="user-guide.html">Single HTML</a> | <a href="user-guide.pdf">Single PDF</a></small><div lang="en" class="chapter" title="Chapter&nbsp;9.&nbsp;SOAP/TCP Web Service transport"><div class="titlepage"><div><div><h2 class="title"><a name="soaptcpa"></a>Chapter&nbsp;9.&nbsp;SOAP/TCP Web Service transport</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="ch09.html#soaptcpb">9.1. What is SOAP/TCP?</a></span></dt><dt><span class="section"><a href="ch09.html#soaptcpc">9.2. Creating a SOAP/TCP enabled Web Service</a></span></dt><dt><span class="section"><a href="ch09.html#soaptcpd">9.3. Configuring Web Service to be able to operate over SOAP/TCP
        transport</a></span></dt><dt><span class="section"><a href="ch09.html#soaptcpe">9.4. Deploying and Testing a Web Service with SOAP/TCP Transport
        Enabled</a></span></dt><dt><span class="section"><a href="ch09.html#soaptcpf">9.5. Creating a Client to Consume a SOAP/TCP-enabled Web
        Service</a></span></dt><dt><span class="section"><a href="ch09.html#soaptcpg">9.6. Configuring Web Service client to operate over SOAP/TCP
        transport</a></span></dt></dl></div><div class="section" title="9.1.&nbsp;What is SOAP/TCP?"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="soaptcpb"></a>9.1.&nbsp;What is SOAP/TCP?</h2></div></div></div><p>SOAP/TCP is TCP transport for Web Services. By default SOAP/TCP
        uses FastInfoset encoding in stateful mode, which lets SOAP/TCP to
        index XML elements optimal way, taking into account specifics of each
        concrete Web Service.</p></div><div class="section" title="9.2.&nbsp;Creating a SOAP/TCP enabled Web Service"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="soaptcpc"></a>9.2.&nbsp;Creating a SOAP/TCP enabled Web Service</h2></div></div></div><p>For detailed instructions for how to use NetBeans IDE to create
        a web service, see <a class="xref" href="ch02.html#ahibp" title="2.3.2.&nbsp;Creating a Web Service">Creating a Web Service</a>.</p></div><div class="section" title="9.3.&nbsp;Configuring Web Service to be able to operate over SOAP/TCP transport"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="soaptcpd"></a>9.3.&nbsp;Configuring Web Service to be able to operate over SOAP/TCP
        transport</h2></div></div></div><p>To use the IDE to configure a web service transport, perform the
        following steps.</p><div class="task" title="To Configure SOAP/TCP transport in a Web Service"><p class="title"><b>To Configure SOAP/TCP transport in a Web Service</b></p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p><span class="bold"><strong>In the IDE Projects window,
                    expand the <span class="guilabel">Web Services</span> node,
                    right-click the <span class="guilabel">CalculatorWSService</span>
                    node, and choose <span class="guimenuitem">Edit Web Service
                    Attributes</span>. </strong></span></p><p>The <span class="guilabel">Web Service Attributes</span>
                    editor appears.</p></li><li class="step" title="Step 2"><p><span class="bold"><strong>Select the <span class="guilabel">Allow TCP
                    Transport</span> check box, as shown in <a class="xref" href="ch09.html#soaptcpsrvimg" title="Figure&nbsp;9.1.&nbsp;Enabling SOAP/TCP">Enabling SOAP/TCP</a>, and
                    click <span class="guibutton">OK</span>.</strong></span></p><p>This setting configures the web service to be able
                    to operate over SOAP/TCP transport additionally to the
                    default HTTP.</p><div class="figure"><a name="soaptcpsrvimg"></a><p class="title"><b>Figure&nbsp;9.1.&nbsp;Enabling SOAP/TCP</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="100%"><tr><td><img src="figures/soaptcp-enable.png" height="360" alt="Enabling SOAP/TCP"></td></tr></table></div></div></div><br class="figure-break"></li></ol></div></div></div><div class="section" title="9.4.&nbsp;Deploying and Testing a Web Service with SOAP/TCP Transport Enabled"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="soaptcpe"></a>9.4.&nbsp;Deploying and Testing a Web Service with SOAP/TCP Transport
        Enabled</h2></div></div></div><p>Now that you have configured the web service to be able to
        operate over SOAP/TCP, you can deploy and test it.</p><div class="task" title="To Deploy and Test a Web Service with SOAP/TCP Enabled"><p class="title"><b>To Deploy and Test a Web Service with SOAP/TCP
            Enabled</b></p><div class="tasksummary">
                <p>To deploy and test the web service, perform the
                following steps.</p>
            </div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p><span class="bold"><strong>Right-click the project node
                    and select <span class="guimenuitem">Properties</span>, then
                    select <span class="guilabel">Run</span>.</strong></span></p></li><li class="step" title="Step 2"><p><span class="bold"><strong>Type
                    <code class="code">/CalculatorWSService?wsdl</code> in the
                    <span class="guilabel">Relative URL</span> field and click
                    <span class="guibutton">OK</span>. </strong></span></p></li><li class="step" title="Step 3"><p><span class="bold"><strong>Right-click the project node
                    and choose
                    <span class="guimenuitem">Run</span>.</strong></span></p><p>The IDE starts the web container, builds the
                    application, and displays the WSDL file page in your
                    browser.</p><p>The following WSIT tags related to SOAP/TCP display
                    in the WSDL file:</p><div class="example"><a name="d0e4738"></a><p class="title"><b>Example&nbsp;9.1.&nbsp;</b></p><div class="example-contents"><pre class="programlisting">&lt;wsp:Policy wsu:Id="CalculatorWSPortBindingPolicy"&gt;
    &lt;wsp:ExactlyOne&gt;
        &lt;wsp:All&gt;
            &lt;ns2:OptimizedTCPTransport enabled="true"/&gt;
        &lt;/wsp:All&gt;
    &lt;/wsp:ExactlyOne&gt;
&lt;/wsp:Policy&gt;</pre></div></div><br class="example-break"></li></ol></div></div></div><div class="section" title="9.5.&nbsp;Creating a Client to Consume a SOAP/TCP-enabled Web Service"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="soaptcpf"></a>9.5.&nbsp;Creating a Client to Consume a SOAP/TCP-enabled Web
        Service</h2></div></div></div><p>For detailed instructions for how to use NetBeans IDE to create
        a web service client, see <a class="xref" href="ch02.html#wsit_example_with_nb-creating_wsit_client" title="2.3.5.&nbsp;Creating a Client to Consume a WSIT-Enabled Web Service">Creating a Client to Consume a WSIT-Enabled Web
            Service</a>.</p></div><div class="section" title="9.6.&nbsp;Configuring Web Service client to operate over SOAP/TCP transport"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="soaptcpg"></a>9.6.&nbsp;Configuring Web Service client to operate over SOAP/TCP
        transport</h2></div></div></div><p>To use the IDE to configure a web service client transport,
        perform the following steps.</p><div class="task" title="To Configure SOAP/TCP transport in a Web Service client"><p class="title"><b>To Configure SOAP/TCP transport in a Web Service
            client</b></p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p><span class="bold"><strong>In the IDE
                    <span class="guilabel">Projects</span> window, expand the
                    <span class="guilabel">Web Service References</span> node,
                    right-click the <span class="guilabel">CalculatorWSService</span>
                    node, and choose <span class="guilabel">Edit Web Service
                    Attributes</span>.</strong></span></p><p>The <span class="guilabel">Web Service Attributes</span>
                    editor appears.</p></li><li class="step" title="Step 2"><p><span class="bold"><strong>Select the
                    <span class="guilabel">Automatically Select Optimal Transport
                    (HTTP/TCP)</span> check box, as shown in <a class="xref" href="ch09.html#soaptcpclntimg" title="Figure&nbsp;9.2.&nbsp;Enabling SOAP/TCP for a Web Service client">Enabling SOAP/TCP for a Web Service
                        client</a>, and
                    click <span class="guibutton">OK</span>. </strong></span></p><p>This setting configures the web service client to
                    choose SOAP/TCP transport as prefferable, when working
                    with a Web Service.</p><div class="figure"><a name="soaptcpclntimg"></a><p class="title"><b>Figure&nbsp;9.2.&nbsp;Enabling SOAP/TCP for a Web Service
                        client</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="100%"><tr><td><img src="figures/soaptcp-client-enable.png" height="360" alt="Enabling SOAP/TCP for a Web Service client"></td></tr></table></div></div></div><br class="figure-break"><p>After checking the SOAP/TCP check box, new policy
                    assertions will be added to the Web Service client policy
                    configuration file. Open
                    <code class="code">CalculatorWSService.xml</code> file, which is
                    situated under the project's <code class="code">Source
                    Packages/META-INF</code> folder.</p><p>The following WSIT tags related to SOAP/TCP display
                    in the Web Service client configuration file:</p><div class="example"><a name="d0e4814"></a><p class="title"><b>Example&nbsp;9.2.&nbsp;</b></p><div class="example-contents"><pre class="programlisting">&lt;wsp:Policy wsu:Id="CalculatorWSPortBindingPolicy"&gt;
    &lt;wsp:ExactlyOne&gt;
        &lt;wsp:All&gt;
            &lt;tcp:AutomaticallySelectOptimalTransport/&gt;
        &lt;/wsp:All&gt;
    &lt;/wsp:ExactlyOne&gt;
&lt;/wsp:Policy&gt;</pre></div></div><br class="example-break"></li></ol></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch08.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch10.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;8.&nbsp;Message Optimization&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;10.&nbsp;Using Reliable Messaging</td></tr></table></div></body></html>